<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cálculo por Hora - Calculadora de Sueldo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- NAVEGACIÓN PRINCIPAL -->
    <header class="main-header animated-fadein">
        <nav class="main-nav">
            <a href="index.html" class="nav-link nav-logo">Inicio</a>
            <a href="calculo_hora.html" class="nav-link active">Calcular por hora</a>
            <a href="calcular_calendario.html" class="nav-link">Calcular calendario</a>
            <a href="calculadora_adicional.html" class="nav-link">Adicional sobre básico</a>
            <a href="analizar_recibo.html" class="nav-link">Analizador de recibos</a>
        </nav>
    </header>

    <!-- CONTENEDOR PRINCIPAL DE CÁLCULO POR HORAS -->
    <div class="calc-hora-container">
        <h2 class="calc-hora-title">Cálculo por Hora</h2>
        
        <!-- FORMULARIO DE CÁLCULO -->
        <div class="calc-form">
            <!-- SELECCIÓN DE CATEGORÍA -->
            <div class="form-row">
                <label class="form-label">Categoría</label>
                <div class="button-group" id="categoria-group">
                    <button type="button" class="categoria-btn" data-value="A">A</button>
                    <button type="button" class="categoria-btn" data-value="B">B</button>
                    <button type="button" class="categoria-btn" data-value="C">C</button>
                    <button type="button" class="categoria-btn" data-value="D">D</button>
                    <button type="button" class="categoria-btn" data-value="E">E</button>
                    <button type="button" class="categoria-btn" data-value="F">F</button>
                    <button type="button" class="categoria-btn" data-value="G">G</button>
                    <button type="button" class="categoria-btn" data-value="H">H</button>
                </div>
                <input type="hidden" id="categoria" value="">
            </div>

            <!-- SELECCIÓN DE MES -->
            <div class="form-row">
                <label class="form-label">Mes</label>
                <div class="button-group" id="mes-group">
                    <button type="button" class="mes-btn" data-value="junio">Jun</button>
                    <button type="button" class="mes-btn" data-value="julio">Jul</button>
                    <button type="button" class="mes-btn" data-value="agosto">Ago</button>
                    <button type="button" class="mes-btn" data-value="septiembre">Sep</button>
                    <button type="button" class="mes-btn" data-value="octubre">Oct</button>
                    <button type="button" class="mes-btn" data-value="noviembre">Nov</button>
                </div>
                <input type="hidden" id="mes" value="">
            </div>

            <!-- VALOR HORA MANUAL -->
            <div class="form-row">
                <label class="form-label">Ingresar valor hora manualmente</label>
                <div class="manual-input-group">
                    <input type="number" id="valor-hora-manual" class="manual-input" min="0" step="0.01" placeholder="Ej: 1234.56" disabled>
                    <button type="button" id="usar-valor-manual" class="manual-btn">Usar</button>
                    <button type="button" id="cancelar-valor-manual" class="cancel-btn" style="display:none;">Cancelar</button>
                </div>
            </div>
            
            <!-- MENSAJE DE VALOR MANUAL -->
            <div id="msg-valor-manual" class="manual-message"></div>

            <!-- VALOR HORA CALCULADO -->
            <div class="form-row">
                <label class="form-label">Valor Hora</label>
                <span id="valor-hora-mostrar" class="valor-hora-display">$0</span>
            </div>

            <!-- SELECCIÓN DE ANTIGÜEDAD -->
            <div class="form-row">
                <label class="form-label">Antigüedad (años)</label>
                <div class="button-group" id="antiguedad-group">
                    <button type="button" class="antiguedad-btn" data-value="1">1</button>
                    <button type="button" class="antiguedad-btn" data-value="3">3</button>
                    <button type="button" class="antiguedad-btn" data-value="5">5</button>
                    <button type="button" class="antiguedad-btn" data-value="7">7</button>
                    <button type="button" class="antiguedad-btn" data-value="9">9</button>
                    <button type="button" class="antiguedad-btn" data-value="12">12</button>
                    <button type="button" class="antiguedad-btn" data-value="15">15</button>
                    <button type="button" class="antiguedad-btn" data-value="18">18</button>
                    <button type="button" class="antiguedad-btn" data-value="22">22</button>
                    <button type="button" class="antiguedad-btn" data-value="26">26</button>
                    <button type="button" class="antiguedad-btn" data-value="30">30</button>
                    <button type="button" class="antiguedad-btn" data-value="35">35</button>
                    <button type="button" class="antiguedad-btn" data-value="40">40</button>
                </div>
                <input type="hidden" id="antiguedad" value="1">
            </div>

            <!-- TABLA DE ANTIGÜEDAD -->
            <div id="tabla-antiguedad" class="antiguedad-table"></div>

            <!-- SECCIÓN DE HORAS TRABAJADAS -->
            <div class="horas-section">
                <h3 class="section-title">Horas Trabajadas
                    <span class="tooltip-trigger" tabindex="0">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#f9a825" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="16" x2="12" y2="12"/>
                            <line x1="12" y1="8" x2="12.01" y2="8"/>
                        </svg>
                        <span class="tooltip" id="tooltip-turnos">
                            <b>(Mañana):</b><br>
                            Lunes a Viernes: 8 hs normales.<br>
                            Sábados: 7 hs normales + 1 hs al 100%.<br><br>
                            <b>(Tarde):</b><br>
                            Lunes a Viernes: 7 hs normales + 1 hs nocturna.<br>
                            Sábados: 7 hs al 100% + 1 hs nocturna al 100%.<br><br>
                            <b>(Noche):</b><br>
                            Lunes a Viernes: 7 hs nocturnas + 1 hs nocturna al 50%.<br>
                            Domingos: 6 hs nocturnas + 2 hs nocturnas al 100%.
                        </span>
                    </span>
                </h3>
                
                <!-- HORAS NORMALES -->
                <div class="form-row">
                    <label class="form-label">Horas normales</label>
                    <input type="number" id="horas-normales" class="hora-input" min="0" max="24" value="0">
                </div>

                <!-- HORAS NOCTURNAS -->
                <div class="form-row">
                    <label class="form-label">Horas nocturnas</label>
                    <input type="number" id="horas-nocturnas" class="hora-input" min="0" max="24" value="0">
                </div>

                <!-- ADICIONAL SOBRE BÁSICO -->
                <div class="form-row adicional-row">
                    <label class="form-label adicional-label">
                        Adicional sobre básico (%)
                        <span class="tooltip-trigger" tabindex="0">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#f9a825" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="12" y1="16" x2="12" y2="12"/>
                                <line x1="12" y1="8" x2="12.01" y2="8"/>
                            </svg>
                            <span class="tooltip" id="tooltip-adic">
                                Ingresá el porcentaje de adicional sobre el básico que corresponde.<br><br>
                                El adicional se calcula como ese porcentaje aplicado a la suma de horas normales y horas nocturnas.<br><br>
                                <b>adicional = (horas normales + horas nocturnas) × (porcentaje / 100)</b>
                            </span>
                        </span>
                        <a href="calculadora_adicional.html" class="calc-link" title="Ir a calculadora de adicional sobre básico" tabindex="0">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#f9a825" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="3" width="18" height="18" rx="3"/>
                                <rect x="7" y="7" width="10" height="3" rx="1.5"/>
                                <rect x="7" y="14" width="3" height="3" rx="1.5"/>
                                <rect x="14" y="14" width="3" height="3" rx="1.5"/>
                            </svg>
                        </a>
                    </label>
                    <input type="number" id="adicional-basico" class="adicional-input" min="0" max="100" step="0.01" value="0" placeholder="Ej: 20">
                </div>

                <!-- HORAS 100% (SÁBADO) -->
                <div class="form-row">
                    <label class="form-label sabado-label">
                        Horas 100% (sábado)
                        <span class="tooltip-trigger" tabindex="0">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#f9a825" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="12" y1="16" x2="12" y2="12"/>
                                <line x1="12" y1="8" x2="12.01" y2="8"/>
                            </svg>
                            <span class="tooltip" id="tooltip-sabado">
                                Sábados TM 7h normales + 1h 100%<br>
                                Ingresá aquí las horas trabajadas al 100% los sábados.
                            </span>
                        </span>
                    </label>
                    <input type="number" id="horas-sabado" class="hora-input" min="0" max="24" value="0">
                </div>

                <!-- HORAS AL 50% -->
                <div class="form-row">
                    <label class="form-label">Horas al 50%</label>
                    <input type="number" id="horas-50" class="hora-input" min="0" max="24" value="0">
                </div>

                <!-- HORAS NOCTURNAS 50% -->
                <div class="form-row">
                    <label class="form-label sabado-label">
                        Horas nocturnas (50%)
                        <span class="tooltip-trigger" tabindex="0">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#f9a825" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="12" y1="16" x2="12" y2="12"/>
                                <line x1="12" y1="8" x2="12.01" y2="8"/>
                            </svg>
                            <span class="tooltip" id="tooltip-nocturnas-50">
                                De lunes a viernes 7h noc + 1h al 50%<br>
                                Ingresá aquí las horas nocturnas con recargo del 50%.
                            </span>
                        </span>
                    </label>
                    <input type="number" id="horas-nocturnas-50" class="hora-input" min="0" max="24" value="0">
                </div>

                <!-- HORAS NOCTURNAS 100% -->
                <div class="form-row">
                    <label class="form-label">Horas nocturnas (100%)</label>
                    <input type="number" id="horas-nocturnas-100" class="hora-input" min="0" max="24" value="0">
                </div>

                <!-- HORAS FERIADO -->
                <div class="form-row">
                    <label class="form-label">Horas feriado</label>
                    <input type="number" id="horas-feriado" class="hora-input" min="0" max="24" value="0">
                </div>
            </div>

            <!-- SEPARADOR -->
            <div class="separator"></div>

            <!-- PRESENTISMO -->
            <div class="form-row presentismo-row">
                <label class="form-label">Presentismo</label>
                <div class="button-group" id="presentismo-group">
                    <button type="button" class="presentismo-btn" data-value="0.20">20%</button>
                    <button type="button" class="presentismo-btn" data-value="0.14">14%</button>
                    <button type="button" class="presentismo-btn" data-value="0.07">7%</button>
                    <button type="button" class="presentismo-btn" data-value="0">0%</button>
                </div>
                <input type="hidden" id="presentismo" value="0.20">
            </div>

            <!-- BONO -->
            <div class="form-row bono-row">
                <label class="form-label">Bono ($210.000)</label>
                <div class="button-group" id="bono-group">
                    <button type="button" class="bono-btn" data-value="0">No</button>
                    <button type="button" class="bono-btn" data-value="210000">Sí</button>
                </div>
                <input type="hidden" id="bono" value="0">
            </div>

            <!-- RESULTADO -->
            <div id="resultado-hora" class="resultado-display"></div>
            <div id="desglose-hora" class="desglose-display"></div>
        </div>
    </div>

    <!-- PARTÍCULAS FLOTANTES -->
    <div class="floating-particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <!-- CURSOR PERSONALIZADO -->
    <div class="custom-cursor"></div>
    <div class="cursor-trail"></div>

    <!-- SCRIPTS -->
    <script src="utils.js"></script>
    <script src="script.js"></script>
    <script src="script_hora.js"></script>
    
    <!-- SCRIPT DE EFECTOS VISUALES -->
    <script>
        // Cursor personalizado
        const cursor = document.querySelector('.custom-cursor');
        const cursorTrail = document.querySelector('.cursor-trail');
        
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
            
            setTimeout(() => {
                cursorTrail.style.left = e.clientX + 'px';
                cursorTrail.style.top = e.clientY + 'px';
            }, 100);
        });
        
        // Efectos de click
        document.addEventListener('click', (e) => {
            const ripple = document.createElement('div');
            ripple.className = 'click-ripple';
            ripple.style.left = e.clientX + 'px';
            ripple.style.top = e.clientY + 'px';
            document.body.appendChild(ripple);
            
            setTimeout(() => {
                ripple.remove();
            }, 600);
        });
        
        // Animación de números en el resultado
        function animateNumber(element, finalNumber) {
            const duration = 1000;
            const start = 0;
            const startTime = performance.now();
            
            function updateNumber(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const current = start + (finalNumber - start) * easeOutQuart(progress);
                
                element.textContent = '$' + Math.floor(current).toLocaleString('es-AR');
                
                if (progress < 1) {
                    requestAnimationFrame(updateNumber);
                }
            }
            
            requestAnimationFrame(updateNumber);
        }
        
        function easeOutQuart(t) {
            return 1 - (--t) * t * t * t;
        }
        
        // Observador para animaciones al hacer scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animationPlayState = 'running';
                }
            });
        });
        
        document.querySelectorAll('.form-row').forEach(row => {
            observer.observe(row);
        });
    </script>
    
    <footer class="main-footer">
        <a href="../index.html" class="footer-link">
            🏠 Volver a Utilidades Principal
        </a>
    </footer>
</body>
</html>
